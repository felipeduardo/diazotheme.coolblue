<?xml version="1.0" encoding="utf-8"?>
<rules xmlns="http://namespaces.plone.org/diazo"
       xmlns:css="http://namespaces.plone.org/diazo/css"
       xmlns:xhtml="http://www.w3.org/1999/xhtml"
       xmlns:xsl="http://www.w3.org/1999/XSL/Transform"    
       xmlns:xi="http://www.w3.org/2001/XInclude">

  <notheme if-content="not(/html/body/div[@id='visual-portal-wrapper'])"/>     
  <theme href="/++theme++coolblue/index.html"/>

  <!-- Head rules
       ================================================================== -->
  <xi:include href="/++framework++plone/rules/head/base.xml"/>
  <xi:include href="/++framework++plone/rules/head/icons.xml"/>
  <xi:include href="/++framework++purecss/rules/head/responsive.xml"/>
  <xi:include href="/++framework++plone/rules/head/js.xml"/>
  <after theme="/html/head/title">
    <!-- Theme created with  -->
    <link rel="stylesheet" href="/++theme++coolblue/css/theme.css"/>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'/>
  </after>

  <!-- For now opting out of less, maybe resubmit to it when the theme is mostly done.
  
  <after theme="/html/head/title">
    <link rel="stylesheet/less" type="text/css" href="/++theme++coolblue/less/style.less" />
    <script type="text/javascript">
        less = {
            env: "development", // or "production"
            async: false,       // load imports async
            fileAsync: false,   // load imports async when in a page under
                                // a file protocol
            poll: 1000,         // when in watch mode, time in ms between polls
            functions: {},      // user functions, keyed by name
            dumpLineNumbers: "comments", // or "mediaQuery" or "all"
            relativeUrls: false,// whether to adjust url's to be relative
                                // if false, url's are already relative to the
                                // entry less file
            rootpath: "/++theme++coolblue/"// a path to add on to the start of every url
                                //resource
        };
    </script>
    <script src="/++theme++coolblue/js/less-1.3.3.min.js" type="text/javascript"></script>
  </after>
  -->

  <!-- Body rules
       ================================================================== -->
  <xi:include href="/++framework++purecss/rules/body/responsive.xml"/>
  <xi:include href="/++framework++purecss/rules/body/columns.xml"/>
  <xi:include href="/++framework++purecss/rules/body/forms.xml"/>
  <xi:include href="/++framework++purecss/rules/body/tables.xml"/>
  <xi:include href="/++framework++purecss/rules/body/menu.xml"/>

  <xi:include href="/++framework++purecss/rules/body/edit.xml"/>
  <xi:include href="/++framework++plone/rules/utility/toolbar.xml"/>
  <xi:include href="/++framework++purecss/rules/body/base.xml"/>

  <!-- Place the content 
       .................................................................. -->
  <merge attributes="class" theme="/html/body" content="/html/body"/>
  <copy css:theme=".header>div" css:content="#portal-top"/>
  <copy css:theme=".nav>div" css:content="#portal-breadcrumbs" method="raw"/>
  <drop css:content="#portal-breadcrumbs"/>
  <copy css:theme=".main>div" css:content="#portal-columns"/>
  <copy css:theme=".footer>div" css:content="#portal-footer-wrapper>*"/>

</rules>